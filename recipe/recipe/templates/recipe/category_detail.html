{% extends "recipe/base.html" %}

{% block title %}{{ category.name }}{% endblock %}

{% block content %}
<div class="container my-5">

    <!-- Breadcrumb -->
    <nav aria-label="breadcrumb" class="mb-4">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'home' %}">Home</a></li>
            <li class="breadcrumb-item active" aria-current="page">{{ category.name }}</li>
        </ol>
    </nav>

    <h2 class="fw-bold mb-4">üìÇ {{ category.name }}</h2>
    {% if category.description %}
    <p class="mb-4">{{ category.description }}</p>
    {% endif %}

    {% if recipes %}
    <div class="row">
        {% for recipe in recipes %}
        <div class="col-md-4 mb-4">
            <div class="card shadow-sm h-100">
                {% if recipe.recipe_image %}
                    <img src="{{ recipe.recipe_image.url }}" class="card-img-top" style="height:200px; object-fit:cover;" alt="{{ recipe.recipe_name }}">
                {% else %}
                    <img src="https://via.placeholder.com/400x200?text=No+Image" class="card-img-top" alt="No Image">
                {% endif %}
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">{{ recipe.recipe_name }}</h5>
                    <p class="card-text text-truncate">{{ recipe.recipe_description|truncatewords:20 }}</p>
                    <a href="{% url 'recipe_detail' recipe.id %}" class="btn btn-primary mt-auto">View Recipe ‚Üí</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
        <p class="text-muted fs-5">No recipes found in this category yet.</p>
    {% endif %}

    <a href="{% url 'categories' %}" class="btn btn-outline-secondary mt-4">‚Üê Back to Categories</a>
</div>
{% endblock %}

{% block extra_css %}
<style>
.card { border-radius: 12px; transition: transform 0.3s ease, box-shadow 0.3s ease; }
.card:hover { transform: translateY(-4px); box-shadow: 0 12px 30px rgba(0,0,0,0.15); }
.btn-primary { background-color: #FF6B35; border-color: #FF6B35; }
.btn-primary:hover { background-color: #FF5420; border-color: #FF5420; }
.btn-outline-secondary { border-color: #6c757d; color: #6c757d; }
.btn-outline-secondary:hover { background-color: #6c757d; color: #fff; }
</style>
{% endblock %}
